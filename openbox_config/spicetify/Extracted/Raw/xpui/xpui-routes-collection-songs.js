"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[553],{98196:function(e,t,n){n.d(t,{q:function(){return x},o:function(){return _}});var l=n(27378),a=n.n(l),r=n(66917),o=n.n(r),i=n(95005),s=n(93306),c=n(75609),u=n(21380),m=n(60042),d=n.n(m),g="_QGXLsEyg7RRgIp_EZ1l",p="_GVuKFHd7xr1QUKi_aWH",f="j9jygFy9seXAf__b7_oS",E="C3GcGKysJKlmAAxQ7R_M",y="xZlEQ5p_NEGYozT1C4ER",C="_UjZ8K0pVb8aAu6s3cX5",w="_6k_YuexiKYPfsT4GXhb",h=n(28101),k=n(35181),b=n(57661),D=n(3108);var v=n(82614),T=n(86131);let x;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(x||(x={}));const _=({uri:e,isFollowing:t,onFollow:n,size:r=x.sm,className:m})=>{const _={"--size":`${r}px`},{useDownloading:S,useDownloadCapability:A}=(0,l.useContext)(c.I),[R,I]=(0,l.useState)(!1),[N,L]=A(o().isEpisode(e)),[O,P]=(0,l.useState)(!1),{currentAvailability:B,progress:M,beginDownload:U,clearDownload:z}=S(e);((e,t)=>{const n=(0,D.r)(),a=(0,l.useRef)(!1);(0,l.useEffect)((()=>{e===u.V8.DOWNLOADING&&!1===a.current&&(a.current=!0,n.say(k.ag.get("download.downloading",t.totalItems)))}),[n,e,t]);const r=(0,b.D)(e);(0,l.useEffect)((()=>{r===u.V8.DOWNLOADING&&e===u.V8.YES&&(a.current=!1,n.say(k.ag.get("download.complete")))}),[n,r,e])})(B,M);const K=()=>{!1===t?(n(),I(!0)):U()};return(0,l.useEffect)((()=>{!0===R&&!0===t&&(U(),I(!1))}),[t,R,U]),N===u.PQ.NO_DOWNLOAD_CAPABILITY?null:L===u.v$.DOWNLOADING_NOT_ALLOWED?a().createElement("div",{className:p},a().createElement(T.u,{label:k.ag.get("download.download")},a().createElement("button",{className:d()(f,m),role:"switch",onClick:()=>{P(!0)},"aria-label":k.ag.get("download.download"),"aria-checked":!1},a().createElement(i.a,{iconSize:r}))),O&&a().createElement("div",{className:w},a().createElement(v.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{P(!1)}},k.ag.get("download.upsell")))):B===u.V8.YES?a().createElement(T.u,{label:k.ag.get("download.remove")},a().createElement("button",{className:d()(f,m,E),role:"switch",onClick:z,"aria-label":k.ag.get("download.remove"),"aria-checked":!0},a().createElement(s.C,{iconSize:r}))):B===u.V8.NO?a().createElement(T.u,{label:k.ag.get("download.download")},a().createElement("button",{className:d()(f,m),role:"switch",onClick:K,"aria-label":k.ag.get("download.download"),"aria-checked":!1},a().createElement(i.a,{iconSize:r}))):a().createElement("div",{className:d()(y,m),role:"switch","aria-checked":!0},a().createElement(T.u,{label:k.ag.get("download.cancel")},a().createElement("button",{style:_,className:d()(f,g,m),onClick:z,"aria-label":k.ag.get("download.cancel")})),a().createElement("span",{style:_,className:d()(C,g)},a().createElement(h.e,{"aria-valuetext":k.ag.get("progress.downloading-tracks"),percentage:M.percentage,size:r})))}},39848:function(e,t,n){n.r(t),n.d(t,{LikedSongs:function(){return M},LikedSongsContainer:function(){return U},default:function(){return z},likedSongscolumns:function(){return B}});var l=n(27378),a=n.n(l),r=n(85002),o=n(76385),i=n(35511),s=n(35181),c=n(57660),u=n(83509),m=n(79032),d=n(98196),g=n(17088),p=n(66027),f=n(79378),E=n(90849),y=n(41805),C=n(1266);const w=()=>a().createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 18.538L48 16.806L31.478 7.26801V42.327C29.826 40.299 27.313 39 24.5 39C19.538 39 15.5 43.038 15.5 48C15.5 52.963 19.538 57 24.5 57C29.27 57 33.175 53.266 33.471 48.569L33.478 48.433C33.485 48.288 33.485 47.711 33.478 47.566V10.732L47 18.538ZM31.478 48.434C31.252 52.091 28.213 55 24.5 55C20.64 55 17.5 51.86 17.5 48C17.5 44.141 20.64 41 24.5 41C28.213 41 31.252 43.909 31.478 47.566V48.434Z",fill:"currentColor"}));var h=n(36726),k=n(16294),b=n(58700),D=n(11056),v=n(26425),T=n(18499),x=n(83553),_=n(82229),S=n(90700),A=n(11847),R=n(67006),I=n(23),N=n(45199),L=n(54779);var O=n(43454),P=n(43011);const B=[f.QD.INDEX,f.QD.TITLE,f.QD.ALBUM,f.QD.ADDED_AT,f.QD.DURATION],M=({metadata:e,canFilter:t,canSort:n})=>{const{uri:c,name:f,images:O,totalLength:M,owner:U}=e,{filterBoxApiRef:z,filterBoxDomRef:K,tracklistDomRef:F,handleKeyDown:G}=(0,m.Q)(),Q=(0,u.k)()&&M>0,j=M>0,Y=(0,l.useMemo)((()=>({id:U.username,uri:U.uri,name:U.username,displayName:U.displayName||void 0,images:U.images||[]})),[U]),V=(0,_.Y5)("#5038a0"),{filter:q}=(0,l.useContext)(T.fo),{sortState:Z}=(0,l.useContext)(x.Gb),W=(0,r.k6)(),H="POP"!==W.action?new URLSearchParams(W.location.search).get("uri"):null,{isPlaying:X,togglePlay:J,usePlayContextItem:$}=(0,I.n)(function(e,t,n){const l={uri:e};return(0,N.R4)(l,t),(0,L.I)(l,n),l}(c,(0,R.w)(Z),(0,A.$u)(q)),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),ee=()=>J();return a().createElement("section",{role:"presentation",className:b.Z.playlist,"data-testid":"playlist-page",onKeyDown:G},a().createElement(P.$,null,s.ag.get("playlist.page-title",f)),a().createElement(p.gF,{backgroundColor:V},a().createElement(E.W,null,a().createElement(v.$,{size:i.qE.sm,onClick:ee,isPlaying:X,uri:c}),a().createElement(y.i,{text:f})),a().createElement("div",{className:b.Z.playlistImageContainer},a().createElement(D.T,{canEdit:!1,name:f,images:O,onClick:()=>{},placeholderType:"playlist"})),a().createElement(p.sP,null,a().createElement(p.dy,{small:!0,uppercase:!0},s.ag.get("playlist")),a().createElement(p.xd,{canEdit:!1,onClick:()=>{},className:b.Z.playlistTitle},f),a().createElement(p.QS,{creators:[Y],totalTracks:M}))),a().createElement(o.o,{backgroundColor:V},a().createElement(o.F,null,j?a().createElement(v.$,{onClick:ee,isPlaying:X,size:i.qE.lg,uri:c}):null,Q?a().createElement(d.o,{uri:c,isFollowing:!0,onFollow:()=>{},size:d.q.md}):null,t&&n&&a().createElement("div",{className:b.Z.searchBoxContainer},a().createElement(C.K,{placeholder:s.ag.get("playlist.search_in_playlist"),filterBoxApiRef:z,outerRef:K}),a().createElement(S.c,{columns:x.P0})))),a().createElement("div",{className:"contentSpacing"},M>0?a().createElement(l.Suspense,{fallback:a().createElement(h.h,{errorMessage:s.ag.get("error.request-collection-tracks-failure")})},a().createElement(k.p,{nrTracks:M,columns:B,collectionUri:c,scrollToUri:H,usePlayContextItem:$,outerDomRef:F})):a().createElement(g.u,{message:s.ag.get("collection.empty-page.songs-subtitle"),title:s.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:s.ag.get("collection.empty-page.songs-cta"),renderInline:!0},a().createElement(w,null))))},U=a().memo((()=>{const e=(0,O.b)(),t=(0,l.useContext)(c.H).getCapabilities();return e?a().createElement(x.kz,{uri:e.uri},a().createElement(T.hz,{uri:e.uri},a().createElement(M,{metadata:e,canFilter:t.canFilter&&e.totalLength>0,canSort:t.canSort&&e.totalLength>0}))):a().createElement(h.h,{errorMessage:s.ag.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline})}));var z=U},43011:function(e,t,n){n.d(t,{$:function(){return m}});var l=n(35181),a=n(27378),r=n.n(a),o=n(97015),i=n(18291),s=n(42044),c=n(39519);function u(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const m=({children:e})=>{let t=u(e);const n=(0,i.Y)(c.yA)===s.q9.PLAYING,a=(0,i.Y)((e=>null==e?void 0:e.item));return a&&n&&((0,s.G_)(a)?t=[a.name,a.artists.map((e=>e.name)).join(l.ag.getSeparator())].join(" · "):(0,s.iw)(a)?t=[a.name,a.show.name].join(" · "):(0,s.k6)(a)&&(t=u(l.ag.get("ad-formats.advertisement")))),r().createElement(o.q,{defaultTitle:l.ag.get("page.generic-title"),defer:!1},r().createElement("title",null,t))}},11056:function(e,t,n){n.d(t,{T:function(){return m}});var l=n(27378),a=n.n(l),r=n(22117),o=n(66027),i=n(11541),s=n(58324),c="vxPwSfbrl02oRuw4A0pw",u="_2iJzaEUdbjSzKe0I20c";const m=function({onClick:e,name:t,images:n,canEdit:l,placeholderType:m,shape:d=o.Kc.SQUARE,dragUri:g=""}){const[p,f]=(0,o.RH)(n),E=(0,r.VO)(p,f)===r.KO.loaded,y=(0,s.O1)([g],t);return a().createElement("div",{className:c,"data-testid":`${m}-image`,draggable:!!g,onDragStart:y},a().createElement(o.Oe,{loading:"eager",name:t,images:n,placeholderType:m,shape:d}),l&&a().createElement("div",{className:u},a().createElement(i.F,{overlay:E,onClick:e,rounded:d===o.Kc.CIRCLE})))}},16294:function(e,t,n){n.d(t,{p:function(){return C}});var l=n(27378),a=n.n(l),r=n(79378),o=n(50878),i=n(40299),s=n(35181),c=n(11847),u=n(67006),m=n(18499),d=n(83553),g=n(57660),p=n(77335),f=n(90604);const E=new Set(d.P0),y=new Set([]),C=a().memo((({nrTracks:e,collectionUri:t,columns:n,uri:C,sortable:w=!0,scrollToUri:h,usePlayContextItem:k,outerDomRef:b})=>{const D=(0,l.useContext)(g.H),v=(0,l.useRef)(null),[T,x]=(0,l.useState)(e),{filter:_}=(0,l.useContext)(m.fo),S=(0,l.useRef)((()=>{})),[A,R]=(0,l.useState)([]),{sortState:I,setSortState:N}=(0,l.useContext)(d.Gb);(0,f.T)("liked-songs");const L=(0,l.useCallback)((e=>{N((0,c.VK)(e,I))}),[N,I]);(0,l.useEffect)((()=>{v.current&&v.current.update()}),[I,_]),(0,l.useEffect)((()=>{v.current&&""===_&&v.current.scrollToFirstSelected()}),[_,T]),(0,l.useEffect)((()=>{x(e)}),[e]),(0,l.useEffect)((()=>{v.current&&h&&v.current.scrollToItem({uri:h})}),[h]);const O=(0,l.useCallback)((e=>{const t=e.map((e=>e.uri));S.current(),null==D||D.remove(...t)}),[D]),P=(0,l.useCallback)(((e,t)=>{S.current=t,e.length>1?R(e):O(e)}),[O]),B=(0,l.useCallback)((async(e,t)=>{const n=await(null==D?void 0:D.getTracks({offset:e,limit:t,uri:C,sort:(0,u.w)(I),filter:(0,c.$u)(_)})),l=null==n?void 0:n.totalLength,a=(null==n?void 0:n.items)||[];return"number"==typeof l&&l!==T&&x(l),a}),[_,D,T,I,C]),M=(0,l.useCallback)(((e,n)=>{var l;const o=(0,i.X)(null===(l=e.album)||void 0===l?void 0:l.images,{desiredSize:40,desiredLabel:"small"});return a().createElement(r.dx,{key:n+e.uri,index:n,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:null,dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==o?void 0:o.url)||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:k,allowedDropTypes:[],isDisliked:!1,playlistName:""})}),[t,k]);return a().createElement(a().Fragment,null,a().createElement(o.ZP,{value:"liked-songs-tracklist"},a().createElement(r.Pv,{ariaLabel:s.ag.get("sidebar.liked_songs"),key:t,hasHeaderRow:!0,columns:n,sortableColumns:null!=D&&D.getCapabilities().canSort&&w?E:y,sortState:I,onSort:L,renderRow:M,resolveUri:e=>e.uri,resolveUid:e=>e.uri,onRemove:P,nrTracks:T,fetchTracks:B,limit:50,canFetchAllTracks:null==D?void 0:D.getCapabilities().canFetchAllTracks,outerRef:v,outerDomRef:b})),a().createElement(p.h,{title:s.ag.get("remove_from_your_liked_songs"),isOpen:A.length>0,tracks:A,onClose:e=>{e.stopPropagation(),R([])},onRemove:O}))}))},90700:function(e,t,n){n.d(t,{c:function(){return m}});var l=n(27378),a=n.n(l),r=n(79378),o=n(83553),i=n(11847),s=n(81368),c=n(2315);function u(e){return!!e}const m=({columns:e})=>{const t=[...e];t.splice(2,0,r.QD.ARTIST);const{sortState:n,setSortState:m}=(0,l.useContext)(o.Gb),d=function(e){return null===e.column?c.mE[r.QD.INDEX]:(0,i.cB)(e.column,e.order)?c.mE[r.QD.ARTIST]:c.mE[e.column]}(n),g=(0,l.useCallback)((e=>{m((0,c.WQ)(e,n.column,n.order))}),[m,n.column,n.order]),p=(0,l.useCallback)((()=>null!==n.column),[n.column]),f=t.map((e=>c.mE[e])).filter(u);return a().createElement(s.A,{options:f,onSelect:g,selected:d,isSelectionChanged:p,sortOrder:n.order})}},77335:function(e,t,n){n.d(t,{h:function(){return p}});var l=n(27378),a=n.n(l),r=n(35181),o="q1Nl0P9TZcfEkf1qPYxE",i="BOeU_yDopZPD7m1akB6u",s="MwzmDaoLanAraIotU1Xp",c="bjRySAyGLDMIDIwoUjb9",u="_8YBiTIqcD5V7I_1rE09",m=n(18686),d=n(58558),g=n(9807);const p=a().memo((({onClose:e,onRemove:t,isOpen:n,tracks:p,title:f})=>{const E=(0,l.useCallback)((n=>{t(p),e(n)}),[t,e,p]);return a().createElement(m.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:e,contentLabel:f,isOpen:n},a().createElement("div",{className:o},a().createElement(g.Dy,{as:"h2",variant:g.Dy.cello,className:i},f),a().createElement(g.Dy,{as:"p",variant:g.Dy.mesto,className:s},r.ag.get("playlist.remove_multiple_description")),a().createElement("div",{className:c},a().createElement(d.Y,{className:u,version:"tertiary",onClick:e},r.ag.get("playlist.delete-cancel")),a().createElement(d.Y,{version:"primary",onClick:E},r.ag.get("remove")))))}))},79032:function(e,t,n){n.d(t,{Q:function(){return a}});var l=n(27378);const a=()=>{const e=(0,l.useRef)(null),t=(0,l.useRef)(null),n=(0,l.useRef)(null);return{filterBoxApiRef:e,filterBoxDomRef:t,tracklistDomRef:n,handleKeyDown:l=>{var a,r,o;"Escape"===l.key&&((null!==(a=t.current)&&void 0!==a&&a.contains(l.target)||null!==(r=n.current)&&void 0!==r&&r.contains(l.target))&&(null===(o=e.current)||void 0===o||o.clearFilter()))}}}},67006:function(e,t,n){n.d(t,{w:function(){return i}});var l=n(11847),a=n(80506),r=n(45875);const o={[a.bD.ADDED_AT]:r._1.ADDED_AT,[a.bD.ADDED_BY]:null,[a.bD.ALBUM]:r._1.ALBUM_NAME,[a.bD.ARTIST]:r._1.ARTIST_NAME,[a.bD.DURATION]:null,[a.bD.TITLE]:r._1.NAME},i=e=>{const t=(0,l._j)(e);if(!t)return;const n=o[t.field],a=t.order;return n&&a?{field:n,order:a}:void 0}},58700:function(e,t){t.Z={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"n_igyqTyaDPnPgkBjS4z",searchBoxContainer:"XJ0AwitHlRMFCkqOD3rj",recommendedTrackList:"yHcdb_FadqrZOz_gi_LN",playlistContent:"I1cppg1eJlgG6FCdhjO3",playlistDescription:"eTKQTINB1Itk0FMu1PDj",top:"d0RWg09KDcwFvjuC_LIT",header:"MpfdXvJ3hGMsB0gz4fiK",subtitle:"GuuMs8r1Oz2WKRmzKEne",refreshButton:"nSG6TsjxUq7GNnltJqQ7",playlistImageContainer:"nhAGOnseLV9YjjTwc3Yw",playlistInlineCurationSection:"_gcAlfGsw7kW99iU25w8",playlistInlineCurationWrapper:"I0QxTVT1HE2EQtTHRp_v",playlistInlineCurationTitle:"CM670AnlSjvKyoTPgCbA",playlistInlineCurationCloseButton:"_xAwo5THLGLKCTj5z4fF",playlistInlineCurationBackButton:"XszgMlw_QAVOikVzIT2t",artistResultListTitle:"L0ZQaQn3fgbufUiWyGJh",seeMore:"HeBhibwzuyWAXBm9vJlm",emptyStateContainer:"biakKLIY5kfSK_apJKBI",searchResultListContainer:"sfHxmcpd37jf0Th8tFDJ",emptySearchTermContainer:"R4_ljtN2DR_Xbmn7EfW6",icon:"vtYkJ0Bpn5p1eKMDH0yU"}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map